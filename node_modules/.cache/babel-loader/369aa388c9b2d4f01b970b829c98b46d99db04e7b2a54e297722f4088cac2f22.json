{"ast":null,"code":"import _slicedToArray from\"C:/Users/yusif/Desktop/todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useContext,useRef}from'react';import style from'./css/style.module.css';import{todoContext}from'../contexts/TodoApp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function TodoItem(_ref){var id=_ref.id,task=_ref.task,isActive=_ref.isActive,isEditable=_ref.isEditable;var _useContext=useContext(todoContext),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];var inpRef=useRef();var removeTask=function removeTask(){if(!window.confirm('Are you sure?')){return state;}dispatch({type:'remove',payload:id});};var complete=function complete(){dispatch({type:'complete',payload:id});};var uncomplete=function uncomplete(){dispatch({type:'uncomplete',payload:id});};var edit=function edit(){dispatch({type:'open_edit_form',payload:id});};var cancel=function cancel(){dispatch({type:'close_edit_form',payload:id});};var onSubmit=function onSubmit(e){e.preventDefault();dispatch({type:'save_change',payload:{id:id,task:inpRef.current.value}});};if(isEditable){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:style.todoItemEditable,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:task,ref:inpRef}),/*#__PURE__*/_jsxs(\"div\",{className:style.editBtn,children:[/*#__PURE__*/_jsx(\"button\",{className:style.saveBtn,type:\"submit\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:style.cancelBtn,type:\"button\",onClick:cancel,children:\"Cancel\"})]})]})})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(style.todoItem,\" \").concat(!isActive&&style.isNotActive),children:[/*#__PURE__*/_jsx(\"h2\",{children:task}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(style.btn,\" \").concat(!isActive&&style.isNotActive),children:[/*#__PURE__*/_jsx(\"button\",{onClick:isActive?complete:uncomplete,children:isActive?'Complete':'Uncomplete'}),/*#__PURE__*/_jsx(\"button\",{onClick:edit,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:style.redBtn,onClick:removeTask,children:\"Delete\"})]})]})});}export default TodoItem;","map":{"version":3,"names":["useCallback","useContext","useRef","style","todoContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TodoItem","_ref","id","task","isActive","isEditable","_useContext","_useContext2","_slicedToArray","state","dispatch","inpRef","removeTask","window","confirm","type","payload","complete","uncomplete","edit","cancel","onSubmit","e","preventDefault","current","value","children","className","todoItemEditable","defaultValue","ref","editBtn","saveBtn","cancelBtn","onClick","concat","todoItem","isNotActive","btn","redBtn"],"sources":["C:/Users/yusif/Desktop/todo-app/src/TodoApp/TodoItem.js"],"sourcesContent":["import { useCallback, useContext, useRef } from 'react';\r\nimport style from './css/style.module.css';\r\nimport { todoContext } from '../contexts/TodoApp';\r\n\r\nfunction TodoItem({ id, task, isActive, isEditable }) {\r\n\r\n    const [state, dispatch] = useContext(todoContext);\r\n    const inpRef = useRef();\r\n\r\n\r\n  \r\n  \r\n    const removeTask = () => {\r\n        if (!window.confirm('Are you sure?')) {\r\n            return state;\r\n        }\r\n\r\n        dispatch({\r\n            type: 'remove',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n    const complete = () => {\r\n        dispatch({\r\n            type: 'complete',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n\r\n\r\n    const uncomplete = () => {\r\n        dispatch({\r\n            type: 'uncomplete',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    const edit = () => {\r\n        dispatch({\r\n            type: 'open_edit_form',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    const cancel = () => {\r\n        dispatch({\r\n            type: 'close_edit_form',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch({\r\n            type: 'save_change',\r\n            payload: {\r\n                id,\r\n                task: inpRef.current.value\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    if (isEditable) {\r\n        return (\r\n            <>\r\n                <div className={style.todoItemEditable}>\r\n                    <form onSubmit={onSubmit}>\r\n                        <input type=\"text\" defaultValue={task} ref={inpRef} />\r\n                        <div className={style.editBtn}>\r\n                            <button className={style.saveBtn} type='submit'>Save</button>\r\n                            <button className={style.cancelBtn} type='button' onClick={cancel}>Cancel</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={`${style.todoItem} ${!isActive && style.isNotActive}`}>\r\n                <h2>{task}</h2>\r\n                <div className={`${style.btn} ${!isActive && style.isNotActive}`}>\r\n                    <button onClick={isActive ? complete : uncomplete}>{isActive ? 'Complete' : 'Uncomplete'}</button>\r\n                    <button onClick={edit}>Edit</button>\r\n                    <button className={style.redBtn} onClick={removeTask}>Delete</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default TodoItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}